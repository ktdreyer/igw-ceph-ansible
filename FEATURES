FEATURE LIST

- confirms RHEL7.3 - and aborts if necessary
- ensures targetcli/device-mapper-multipath is installed (for rtslib support)
- configures multipath.conf
- creates rbd's if needed - at allocation time, each rbd is assigned an owner, which will become the preferred path  
- checks the size of the rbds at run time and expands if necessary
- maps the rbd's to the host (gateway)
- enables the rbdmap service to start on boot, and reconfigures the target service to be dependent on rbdmap
- adds the rbd's to the /etc/ceph/rbdmap file ensuring the devices are automatically mapped following a gateway reboot
- maps these rbds to LIO
- once mapped, the alua preferred path state is set or cleared (supporting an active/passive topology)  
- creates an iscsi target - common iqn, and multiple tpg's  
- adds a portal ip based on a the provided IP addresses defined in the group vars to each tpg  
- enables the local tpg, other gateways are defined as disabled  
- adds all the mapped luns to ALL tpg's (ready for client assignment)  
- add clients to the active/enabled tpg, with/without CHAP  
- images mapped to clients can be added/removed by changing image_list and rerunning the playbook
- clients can be removed using the state=absent variable and rerunning the playbook. At this point the entry can be 
  removed from the group variables file
- configuration can be wiped with the purge_cluster playbook
- current state can be seen by looking at the configuration object (stored in the rbd pool i.e rados -p rbd gateway.conf -)


